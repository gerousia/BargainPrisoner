
# Based from ./common/script_values/00_interaction_values.txt#ransom_cost_value
## Base cost value.
prisoner_cost_value = {
	value = ransom_cost
	# Some cultures are better at ransoming than others.
	if = {
		limit = {
			exists = imprisoner
			imprisoner.culture = { has_cultural_parameter = can_demand_higher_ransoms_from_lower_tiers }
			# Kings and emperors are already worth more, so we just boost landless and ducal-tier or below.
			OR = {
				NOT = { exists = liege }
				highest_held_title_tier <= tier_duchy
			}
		}
		multiply = 1.5
	}
	# Rich guests can pay a bit more...
	if = {
		limit = {
			NOT = { exists = liege }
			gold >= 100
		}
		add = 90
	}
}

# Based from ./common/script_values/00_interaction_values.txt#current_situation_gold_ransom
current_situation_gold_cost = {
	if = {
		limit = { NOT = { exists = liege } }
		add = gold
	}
	else_if = {
		limit = { is_ruler = no }
		add = liege.gold
	}
	else = {
		add = gold
	}
	max = prisoner_cost_value
}

# Based from ./common/script_values/00_interaction_values.txt#half_ransom_cost_value
half_prisoner_cost_value = {
	value = {
		add = prisoner_cost_value
		divide = 2
		min = 1
	}
}

# Based from ./common/script_values/00_interaction_values.txt#half_increased_ransom_cost_value
half_increased_prisoner_cost_value = {
	value = {
		add = increased_prisoner_cost_value
		divide = 2
		min = 1
	}
}

# Based from ./common/script_values/00_interaction_values.txt#increased_ransom_cost_value
increased_prisoner_cost_value = {
	value = {
		add = prisoner_cost_value
		multiply = 1.5
	}
}

# Based from ./common/script_values/00_interaction_values.txt#increased_ransom_cost
increased_prison_cost = {
	value = {
		add = prison_cost
		multiply = 1.5
	}
}

# Based from ./common/script_values/00_interaction_values.txt#offer_vassalage_acceptance_value
offer_prisoner_acceptance_value = {
	value = {
		add = -35
		if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 80 }
				}
			}
			add = {
				value = 33
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 70 }
				}
			}
			add = {
				value = 30
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 60 }
				}
			}
			add = {
				value = 25
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 50 }
				}
			}
			add = {
				value = 20
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 40 }
				}
			}
			add = {
				value = 15
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 30 }
				}
			}
			add = {
				value = 10
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 20 }
				}
			}
			add = {
				value = 8
			}
		}
		else_if = {
			limit = {
				scope:actor.culture = {
					cultural_acceptance = { target = scope:recipient.culture value >= 10 }
				}
			}
			add = {
				value = 5
			}
		}
	}
}